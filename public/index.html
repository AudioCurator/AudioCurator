
<!DOCTYPE html>

<html ng-app="AudioCurator">
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="./css/styles.css" type="text/css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.1/angular-ui-router.min.js"></script>
    <script src="http://connect.soundcloud.com/sdk.js"></script>
    <script src="./dist/angular-soundmanager2.js"></script>


    <title>Audio Curator</title>

  </head>

   <!-- Use the "ng-controller" directive to associate index.html with controller(mainCtrl) -->

  <body ng-cloak ng-controller="mainCtrl" >

    <nav>


       <div class="nav-wrapper grey lighten-2">
        <div class = "title">
     <a href="#" class="brand-logo center">A u d i o C u r a t o r</div>
       </a>
       <ul id="nav-mobile" class="right hide-on-med-and-down">

       </ul>
    </div>


          <!-- loggedInUser (from mainCtrl) is an empty object when no user has logged in. When user logs in, statement will be evaluated as false and logout button will be displayed instead. -->
          <!-- showAuthForm is a variable that toggles between true and false when this div is clicked to hide or show the login/register form -->
          <div>
            <ul>             <!-- id="nav-mobile" class="right hide-on-med-and-down" -->
              <li ng-show='showLoginButton' id="nav-mobile" class="right hide-on-med-and-down navbuttonfront" ng-click='showAuthForm = showAuthForm ? false : true'>
                  <!-- There is no actual link in the <a>. Clicking it shows or hides the login/register div. -->
                  <a>Login</a>
              </li>
              <li ng-hide='showLoginButton' id="nav-mobile" class="right hide-on-med-and-down navbuttonfront" ng-click='logout()'>
                  <!-- There is no actual link in the <a>. Clicking it calls the logout function of ng-click in parent <ul> -->
                  <a>Logout</a>
              </li>
            </ul>
          <div>
       </div>

    </nav>

    <!--======================= SOUNDMANAGER2 PLAYER EXAMPLE GOES HERE! ============================-->
    <div class="container" ng-controller="mainCtrl">
        <div class="row">
            <div class="col-md-12">

                <h5>Songs</h5>
                <ul>
                    <li ng-repeat="song in songs">
                        <button music-player="play" add-song="song">{{ song.title }}</button>
                        <button music-player add-song="song">+</button>
                    </li>
                </ul>

                <button play-all="songs">Play all</button>

            </div>
        </div>

        <hr />

        <div class="row">
            <div class="col-md-12">
                <!-- init soundManager2 player -->
                <sound-manager></sound-manager>

                <p>
                    Currently Playing: {{ currentPlaying.title }} by {{ currentPlaying.artist }} ({{ currentPostion }} / {{ currentDuration }})
                </p>

                <div class="seekBase" seek-track>
                    <div class="seekLoad" ng-style="{width : ( progress + '%' ) }"></div>
                </div>
                <br />
                <button play-music>Play</button>
                -
                <button pause-music>Pause</button>
                -
                <button stop-music>Stop</button>
                -
                <button repeat-music>Repeat ({{ repeat }})</button>
                -
                <button play-pause-toggle data-play="Play!" data-pause="Pause!">Play Toggle</button>

                Is Playing: {{ isPlaying }}
                <br/>
                <br/>Volume: {{ volume }} -
                <button music-volume data-type="increase">+</button>
                -
                <button music-volume data-type="decrease">-</button>
                -
                <button mute-music>Mute ({{ mute }})</button>
                <br/>
                <br/>
                <button prev-track>Prev Track</button>
                -
                <button next-track>Next Track</button>
                -
                <button clear-playlist>Clear Playlist</button>
                <br/>
                <br/>
                <h5>Playlist</h5>
                <ul>
                    <li ng-repeat="song in playlist">
                        <a play-from-playlist="song">{{ song.title }}</a>
                        -
                        <a remove-from-playlist="song" data-index="{{$index}}">
                            <small>(remove)</small>
                        </a>
                        <span ng-if="currentPlaying.id == song.id"> - (current)</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--======================= SOUNDMANAGER2 PLAYER EXAMPLE ENDS HERE! ============================-->


    <!-- Proof of concept login and register forms here. Feel free to alter them. I copied this (and some styles) from an old "dogs" project -->
    <div class="auth" ng-show="showAuthForm">
      <div class="login" ng-show="loginOrRegister">
        <form ng-submit="login(user); clearLogin()">
          <h1>Log In Here</h1>
          <input ng-model='user.email' type="text" placeholder="Email" value="">
          <input ng-model='user.password' type="password" placeholder="Password" value=""><br>
          <input class="loginbutton" type="submit" value="Login">
          <a ng-click='loginOrRegister=false'>Create New Account Instead</a>
        </form>
      </div>

      <div class="register" ng-hide="loginOrRegister">
        <form ng-submit="register(newUser); clearLogin()">
          <h1>Register Now!</h1>
          <input ng-model='newUser.displayName' type="text" placeholder="Display Name" value=""><br>
          <input ng-model='newUser.email' type="text" placeholder="Email" value="">
          <input ng-model='newUser.password' type="password" placeholder="Password" value=""><br>
          <input class="registerbutton" type="submit" value="Register & Login">
          <a ng-click='loginOrRegister=true'>Log In Instead</a>
        </form>
      </div>
    </div>


    <!-- States attach here -->
    <ui-view></ui-view>

    <div ng-controller="SoundCloudCtrl">
      <!-- <input type="submit" ng-controller="loginCtrl" ng-click="auth.signin()" /> -->
      <!-- <img src="http://connect.soundcloud.com/2/btn-connect-s.png"> -->
      <p style="width: 515px;">
        <!-- <img src="http://connect.soundcloud.com/2/btn-connect-sc-s.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-s.png">
        <img src="http://connect.soundcloud.com/2/btn-disconnect-s.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-sc-m.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-m.png">
        <img src="http://connect.soundcloud.com/2/btn-disconnect-m.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-sc-l.png"> -->
        <button type="button" ng-click="connectSoundCloud()">
          <img style="border: 3px solid green;" src="http://connect.soundcloud.com/2/btn-connect-l.png">
        </button>
        <button type="button" ng-click="disconnectSoundCloud()">
          <img style="border: 3px solid green;" src="http://connect.soundcloud.com/2/btn-disconnect-l.png">
        </button>
      </p>

<!--       <button type="button" ng-click="getTracks()">Get Tracks</button>
      <ol id="track-list"></ol> -->
    </div>


    <form ng-submit="postBlog(newBlogPost)">
        <input type="text" ng-model="newBlogPost">
        <button type = "submit">Submit</button>
    </form>


   <h4>{{newBlogPost}}</h4>



      Search<input type ="text" ng-model="search"/>

    <!-- <button type="button" ng-click="displayPosts()">Click here to display blog posts.</button> -->
    <div ng-repeat="post in postHistory | orderBy: '-date' | filter: search">

        <span ng-hide="readytoupdate" ng-dblclick="readytoupdate =true">
          <h2><strong>{{post.displaydate}}</strong></h2>
          <h3>{{post.body}}</h3>
        </span>

        <form ng-show="readytoupdate" ng-submit="update(post)">
          <input ng-model= "post.body"/>
          <input type="submit"/>
        </form>

        <button ng-hide="readytodelete" ng-click="readytodelete=true">delete</button>
        <button ng-show="readytodelete" ng-click="readytodelete=false">cancel</button>
        <button ng-show="readytodelete" ng-click="remove(post._id)">delete</button>
    </div>
    <div
      class="fb-like"
      data-share="true"
      data-width="450"
      data-show-faces="true">
    </div>





	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script src="./app.js" type="text/javascript"></script>
    <script src="./controllers/mainCtrl.js" type="text/javascript"></script>
    <script src="./controllers/SoundCloudCtrl.js" type="text/javascript"></script>
    <script src="./controllers/mainServ.js" type="text/javascript"></script>
    <script src="./controllers/SoundCloudServ.js" type="text/javascript"></script>
    <script src="./controllers/passportService.js" type="text/javascript"></script>
    <script src="./controllers/adminCtrl.js" type="text/javascript"></script>

  </body>
</html>
