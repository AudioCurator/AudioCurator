
<!DOCTYPE html>

<html ng-app="AudioCurator">
  <head>

   <link href="./styles.css" type="text/css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.1/angular-ui-router.min.js"></script>
    <script src="http://connect.soundcloud.com/sdk.js"></script>
    <title>Audio Curator</title>

  </head>

   <!-- Use the "ng-controller" directive to associate index.html with controller(mainCtrl) -->

  <body ng-cloak ng-controller="mainCtrl" >

    <nav>


       <div class="nav-wrapper grey lighten-2">
        <div class = "title">
     <a href="#" class="brand-logo center">A u d i o C u r a t o r</div>
       </a>
       <ul id="nav-mobile" class="right hide-on-med-and-down">
         
       </ul>
    </div>


          <!-- loggedInUser (from mainCtrl) is an empty object when no user has logged in. When user logs in, statement will be evaluated as false and logout button will be displayed instead. -->
          <!-- showAuthForm is a variable that toggles between true and false when this div is clicked to hide or show the login/register form -->
          <div>
            <ul>             <!-- id="nav-mobile" class="right hide-on-med-and-down" -->
              <li ng-show='showLoginButton' id="nav-mobile" class="right hide-on-med-and-down navbuttonfront" ng-click='showAuthForm = showAuthForm ? false : true'>
                  <!-- There is no actual link in the <a>. Clicking it shows or hides the login/register div. -->
                  <a>Login</a>
              </li>
              <li ng-hide='showLoginButton' id="nav-mobile" class="right hide-on-med-and-down navbuttonfront" ng-click='logout()'>
                  <!-- There is no actual link in the <a>. Clicking it calls the logout function of ng-click in parent <ul> -->
                  <a>Logout</a>
              </li>
            </ul>
          <div>
       </div>

    </nav>

    <!-- Proof of concept login and register forms here. Feel free to alter them. I copied this (and some styles) from an old "dogs" project -->
    <div class="auth" ng-show="showAuthForm">
      <div class="login" ng-show="loginOrRegister">
        <form ng-submit="login(user)">
          <h1>Log In Here</h1>
          <input ng-model='user.email' type="text" placeholder="Email" value="">
          <input ng-model='user.password' type="password" placeholder="Password" value=""><br>
          <input class="loginbutton" type="submit" value="Login">
          <a ng-click='loginOrRegister=false'>Create New Account Instead</a>
        </form>
      </div>

      <div class="register" ng-hide="loginOrRegister">
        <form ng-submit="register(newUser)">
          <h1>Register Now!</h1>
          <input ng-model='newUser.displayName' type="text" placeholder="Display Name" value=""><br>
          <input ng-model='newUser.email' type="text" placeholder="Email" value="">
          <input ng-model='newUser.password' type="password" placeholder="Password" value=""><br>
          <input class="registerbutton" type="submit" value="Register & Login">
          <a ng-click='loginOrRegister=true'>Log In Instead</a>
        </form>
      </div>
    </div>



    <!-- States attach here -->
    <ui-view></ui-view>

    <div ng-controller="SoundCloudCtrl">
      <!-- <input type="submit" ng-controller="loginCtrl" ng-click="auth.signin()" /> -->
      <!-- <img src="http://connect.soundcloud.com/2/btn-connect-s.png"> -->
      <p style="width: 515px;">
        <!-- <img src="http://connect.soundcloud.com/2/btn-connect-sc-s.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-s.png">
        <img src="http://connect.soundcloud.com/2/btn-disconnect-s.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-sc-m.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-m.png">
        <img src="http://connect.soundcloud.com/2/btn-disconnect-m.png">
        <img src="http://connect.soundcloud.com/2/btn-connect-sc-l.png"> -->
        <button type="button" ng-click="connectSoundCloud()">
          <img style="border: 3px solid green;" src="http://connect.soundcloud.com/2/btn-connect-l.png">
        </button>
        <button type="button" ng-click="disconnectSoundCloud()">
          <img style="border: 3px solid green;" src="http://connect.soundcloud.com/2/btn-disconnect-l.png">
        </button>
      </p>
    </div>


    <form ng-submit="postBlog(newBlogPost)">
        <input type="text" ng-model="newBlogPost">
        <button type = "submit">Submit</button>
    </form>


   <h4>{{newBlogPost}}</h4>



      Search<input type ="text" ng-model="search"/>

    <!-- <button type="button" ng-click="displayPosts()">Click here to display blog posts.</button> -->
    <div ng-repeat="post in postHistory | orderBy: '-date' | filter: search">

        <span ng-hide="readytoupdate" ng-dblclick="readytoupdate =true">
          <h2><strong>{{post.displaydate}}</strong></h2>
          <h3>{{post.body}}</h3>
        </span>

        <form ng-show="readytoupdate" ng-submit="update(post)">
          <input ng-model= "post.body"/>
          <input type="submit"/>
        </form>

        <button ng-hide="readytodelete" ng-click="readytodelete=true">delete</button>
        <button ng-show="readytodelete" ng-click="readytodelete=false">cancel</button>
        <button ng-show="readytodelete" ng-click="remove(post._id)">delete</button>
    </div>
    <div
      class="fb-like"
      data-share="true"
      data-width="450"
      data-show-faces="true">
    </div>





	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script src="./app.js" type="text/javascript"></script>
    <script src="./controllers/mainCtrl.js" type="text/javascript"></script>
    <script src="./controllers/SoundCloudCtrl.js" type="text/javascript"></script>
    <script src="./controllers/mainServ.js" type="text/javascript"></script>
    <script src="./controllers/SoundCloudServ.js" type="text/javascript"></script>
    <script src="./controllers/passportService.js" type="text/javascript"></script>
    <script src="./controllers/adminCtrl.js" type="text/javascript"></script>
    <script src="https://connect.soundcloud.com/sdk/sdk-3.1.2.js"></script>
    

  </body>
</html>
